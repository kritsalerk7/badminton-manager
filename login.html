<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö - Badminton Manage</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body{background:#f7f7fb}
    .card{border:0; box-shadow:0 6px 24px rgba(0,0,0,.06); border-radius:16px;}
    .brand{font-weight:700}
  </style>
</head>
<body class="d-flex align-items-center" style="min-height:100vh;">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6 col-lg-4">
        <div class="text-center mb-4">
          <div class="brand fs-3">üè∏ Badminton Manage</div>
          <div class="text-muted">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡πä‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
        </div>
        <div class="card p-4">
          <div class="mb-3">
            <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
            <input id="email" type="email" class="form-control" placeholder="you@example.com">
          </div>
          <div class="mb-2">
            <label class="form-label">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
            <input id="password" type="password" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
          </div>
          <div class="d-grid gap-2 mt-3">
<!-- ‡πÅ‡∏Å‡πâ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏∏ type ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô -->
<button id="btnEmailLogin" type="button" class="btn btn-primary">
  <i class="bi bi-box-arrow-in-right"></i> ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
</button>

          </div>
        </div>
        <div class="text-center text-muted small mt-3">v20250815</div>
      </div>
    </div>
  </div>

  
  
  <script src="assets/js/firebase_config.js"></script>
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

  const app = initializeApp(window.FIREBASE_CONFIG);
  const auth = getAuth(app);

  // ‚¨áÔ∏è ‡πÅ‡∏ó‡∏ô top-level await ‡∏î‡πâ‡∏ß‡∏¢ IIFE ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏±‡∏ö iPad Safari
  (async () => {
    const force = new URLSearchParams(location.search).get("force") === "1";
    if (force) {
      try {
        const { signOut } = await import("https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js");
        await signOut(auth);
      } catch (e) {
        console.warn("Auto sign-out failed", e);
      }
    }
  })();

  const $ = (id) => document.getElementById(id);

  // ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ DOMContentLoaded ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏≠‡∏¢‡∏π‡πà‡∏ó‡πâ‡∏≤‡∏¢ body ‡πÅ‡∏•‡πâ‡∏ß
  const btn = $("btnEmailLogin");
  if (!btn) console.warn("login: missing #btnEmailLogin");
  else {
    btn.addEventListener("click", async (e) => {
      e.preventDefault();
      const email = $("email")?.value?.trim() || "";
      const pass = $("password")?.value || "";
      if (!email || !pass) { alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö"); return; }

      btn.disabled = true;
      try {
        await signInWithEmailAndPassword(auth, email, pass);
        location.href = "index.html";
      } catch (e) {
        alert(e.code || e.message);
      } finally {
        btn.disabled = false;
      }
    }, { passive: false });
  }
</script>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

        <!-- BOOTSTRAP_MODAL_SAFETY_START -->
        <script>
        document.addEventListener('DOMContentLoaded', function(){
          try {
            var modals = Array.from(document.querySelectorAll('.modal[id]'));
            var triggers = Array.from(document.querySelectorAll('[data-bs-toggle="modal"]:not([data-bs-target])'));
            if (modals.length === 1 && triggers.length > 0) {
              var id = '#' + modals[0].id;
              triggers.forEach(function(t){ t.setAttribute('data-bs-target', id); });
            }
          } catch (e) { console.warn('[modal-safety]', e); }
        });
        </script>
        <!-- BOOTSTRAP_MODAL_SAFETY_END -->
        
</body>
</html>
