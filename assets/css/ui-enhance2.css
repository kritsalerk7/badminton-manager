
/* v2 UI tweaks: toggle clarity, backdrop guard, responsive spacing */

/* Level badges */
.lvl-badge{
  display:inline-block;
  padding: .28rem .65rem;
  border-radius: 999px;
  font-weight: 700;
  font-size: 1rem;
  line-height: 1;
}
.lvl-badge.lv-1{ background:#E2E8F0; color:#0F172A; }
.lvl-badge.lv-2{ background:#CFFAFE; color:#0C4A6E; }
.lvl-badge.lv-3{ background:#DBEAFE; color:#1E3A8A; }
.lvl-badge.lv-4{ background:#FEF3C7; color:#92400E; }
.lvl-badge.lv-5{ background:#DCFCE7; color:#065F46; }

/* Toasts */
#appToasts{
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 1080;
  display: flex;
  flex-direction: column;
  gap: 8px;
  pointer-events: none;
}
.toast-msg{
  pointer-events: auto;
  border-radius: .5rem;
  padding: .6rem .8rem;
  color: #fff;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .25s ease, transform .25s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,.15);
}
.toast-msg.show{ opacity:1; transform: translateY(0); }
.toast-msg.info{ background:#0D6EFD; }
.toast-msg.success{ background:#198754; }
.toast-msg.warning{ background:#FD7E14; }
.toast-msg.error{ background:#DC3545; }

/* Empty state */
.empty-state{ display:flex; align-items:center; gap:.5rem; }
.empty-state i{ font-size: 1.1rem; opacity:.7; }

/* Hit area */
.member-row .actions .btn,
.day-row .btn { min-width: 40px; min-height: 40px; display:flex; align-items:center; justify-content:center; border-width: 2px; }

/* DnD affordance */
.dragging{ opacity:.7; }
.dropping{ outline: 2px dashed #0D6EFD; }
.flash-add { outline: 2px solid #198754; background: rgba(25,135,84,.12); }
.flash-cancel { outline: 2px solid #dc3545; background: rgba(220,53,69,.12); }
.flash-box-add { box-shadow: inset 0 0 0 2px #198754; background: rgba(25,135,84,.06); }
.flash-box-cancel { box-shadow: inset 0 0 0 2px #dc3545; background: rgba(220,53,69,.06); }

/* Responsive */
@media (max-width: 576px){
  .member-row{ flex-wrap: wrap; }
  .member-row .actions{ width:100%; margin-top:.5rem; justify-content:flex-end; }
  .list-group-item{ padding: .85rem 1rem; }
  .lvl-badge{ font-size: 1.05rem; }
  #appToasts{ right: 12px; bottom: 12px; }
}

/* Ensure backdrop is not stuck (safety) */
body:not(.modal-open) .modal-backdrop{ display:none !important; opacity:0 !important; }
